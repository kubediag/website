<!doctype html><html lang=zh class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>命令行工具 |</title><meta name=description content><meta property="og:title" content="命令行工具"><meta property="og:description" content="命令行工具的参数配置详情。
"><meta property="og:type" content="article"><meta property="og:url" content="https://kubediag.org/docs/references/component-tool/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-07-07T15:05:49+08:00"><meta itemprop=name content="命令行工具"><meta itemprop=description content="命令行工具的参数配置详情。
"><meta itemprop=dateModified content="2021-07-07T15:05:49+08:00"><meta itemprop=wordCount content="107"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="命令行工具"><meta name=twitter:description content="命令行工具的参数配置详情。
"><link rel=preload href=/scss/main.min.9422d73435761c65f5b23a13b70dfe89ec44a89fb6e8513522e16c06e828a557.css as=style><link href=/scss/main.min.9422d73435761c65f5b23a13b70dfe89ec44a89fb6e8513522e16c06e828a557.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg width="1793" height="500" viewBox="0 0 1793 500" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1376.43 151.071c-10.0600000000002.0-18.22 8.155-18.22 18.215C1358.21 179.345 1366.37 187.5 1376.43 187.5c10.0599999999999.0 18.21-8.155 18.21-18.214.0-10.06-8.15000000000009-18.215-18.21-18.215z" fill="#222"/><path d="M1361.07 207.143C1359.49 207.143 1358.21 208.422 1358.21 210V351.071C1358.21 352.649 1359.49 353.928 1361.07 353.928h30.72C1393.36 353.928 1394.64 352.649 1394.64 351.071V210C1394.64 208.422 1393.36 207.143 1391.79 207.143h-30.72z" fill="#222"/><path fill-rule="evenodd" clip-rule="evenodd" d="M1135.79 308.755C1136.43 306.935 1135.08 305.029 1133.15 305.029h-34.22C1098.01 305.029 1097.14 305.482 1096.62 306.24 1090.06 315.767 1079.7 321.824 1068.13 321.824 1052.11 321.824 1038.34 310.158 1033.92 293.832h103.04C1138.39 293.832 1139.58 292.757 1139.74 291.337 1140.05 288.481 1140.21 285.577 1140.21 282.635 1140.21 241.025 1108.07 207.056 1068.13 207.056 1028.2 207.056 996.052 241.025 996.052 282.635 996.052 324.244 1028.2 358.214 1068.13 358.214 1099.26 358.214 1125.68 337.551 1135.79 308.755zM1068.13 243.446C1081.76 243.446 1093.74 251.867 1099.75 264.44h-63.24C1042.53 251.867 1054.51 243.446 1068.13 243.446z" fill="#222"/><path fill-rule="evenodd" clip-rule="evenodd" d="M1528.93 207.143C1527.35 207.143 1526.07 208.422 1526.07 210V217.466C1515.38 210.904 1502.93 207.143 1489.64 207.143 1449.8 207.143 1417.5 240.961 1417.5 282.678c0 41.718 32.3 75.536 72.1400000000001 75.536 13.29.0 25.74-3.762 36.4299999999998-10.323V351.071C1526.07 352.649 1527.35 353.928 1528.93 353.928h30C1560.51 353.928 1561.79 352.649 1561.79 351.071V282.72C1561.79 282.706 1561.79 282.692 1561.79 282.678S1561.79 282.65 1561.79 282.636V210C1561.79 208.422 1560.51 207.143 1558.93 207.143h-30zM1452.83 282.678C1452.83 261.08 1469.23 243.571 1489.45 243.571 1509.68 243.571 1526.07 261.08 1526.07 282.678 1526.07 304.277 1509.68 321.785 1489.45 321.785 1469.23 321.785 1452.83 304.277 1452.83 282.678z" fill="#222"/><path d="M517.857 351.158C517.857 352.736 519.136 354.015 520.714 354.015H551.39C552.968 354.015 554.247 352.736 554.247 351.158V287.573L572.633 269.187 642.954 352.993C643.497 353.64 644.298 354.014 645.143 354.014h40.044C687.614 354.014 688.936 351.179 687.376 349.32L598.463 243.358l87.409-87.409C687.672 154.149 686.397 151.071 683.851 151.071H640.469C639.712 151.071 638.985 151.372 638.449 151.908L554.247 236.11V153.928c0-1.578-1.279-2.857-2.85699999999997-2.857H520.714C519.136 151.071 517.857 152.35 517.857 153.928v197.23z" fill="#222"/><path d="M691.428 213.928C691.428 212.35 692.708 211.071 694.286 211.071H725C726.578 211.071 727.857 212.35 727.857 213.928v80.893c0 14.892 12.072 26.965 26.9640000000001 26.965C769.713 321.786 781.786 309.713 781.786 294.821V213.928C781.786 212.35 783.065 211.071 784.643 211.071H815.357C816.935 211.071 818.214 212.35 818.214 213.928V351.071C818.214 352.649 816.935 353.928 815.357 353.928H784.643C783.065 353.928 781.786 352.649 781.786 351.071V349.143C772.689 354.889 761.912 358.214 750.357 358.214c-32.545.0-58.929-26.383-58.929-58.928V213.928z" fill="#222"/><path fill-rule="evenodd" clip-rule="evenodd" d="M843.571 151.071C841.994 151.071 840.714 152.35 840.714 153.928V351.071C840.714 352.649 841.994 353.928 843.571 353.928H874.286C875.864 353.928 877.143 352.649 877.143 351.071V346.602C887.998 353.958 900.858 358.214 914.643 358.214c38.857.0 70.357-33.818 70.357-75.536.0-41.717-31.5-75.535-70.357-75.535-13.7850000000001.0-26.645 4.256-37.5 11.612V153.928c0-1.578-1.279-2.857-2.85700000000008-2.857H843.571zm33.572 131.607c0 21.599 15.99 39.108 35.7139999999999 39.108 19.725.0 35.715-17.509 35.715-39.108.0-21.598-15.99-39.107-35.715-39.107C893.133 243.571 877.143 261.08 877.143 282.678z" fill="#222"/><path fill-rule="evenodd" clip-rule="evenodd" d="M1646.43 207.143C1607.57 207.143 1576.07 240.961 1576.07 282.678c0 41.718 31.5 75.536 70.3600000000001 75.536C1660.32 358.214 1673.28 353.89 1684.18 346.428H1684.42L1683.79 357.678c0 15.213-18.1900000000001 28.274-34.21 28.274C1638.01 385.952 1627.65 379.899 1621.09 370.377 1620.57 369.619 1619.71 369.166 1618.79 369.166h-34.23C1582.63 369.166 1581.28 371.072 1581.92 372.891 1592.04 401.67 1618.45 422.321 1649.58 422.321 1685.87 422.321 1720.52 394.643 1720.52 355.178v-8.75L1720.36 346.425V214.285C1720.36 212.707 1719.08 211.428 1717.5 211.428h-30.71C1685.21 211.428 1683.93 212.707 1683.93 214.285v4.47C1673.07 211.399 1660.21 207.143 1646.43 207.143zM1648.21 321.785c19.72.0 35.7-17.49 35.72-39.072V282.644C1683.91 261.061 1667.93 243.571 1648.21 243.571s-35.71 17.509-35.71 39.107c0 21.599 15.99 39.107 35.71 39.107z" fill="#222"/><path fill-rule="evenodd" clip-rule="evenodd" d="M1197.5 187.5v130H1238.93c33.1399999999999.0 60-26.863 60-60v-10c0-33.137-26.8600000000001-60-60-60H1197.5zM1163.93 151.071C1162.35 151.071 1161.07 152.35 1161.07 153.928V351.071C1161.07 352.649 1162.35 353.928 1163.93 353.928h75C1292.18 353.928 1335.36 310.756 1335.36 257.5v-10C1335.36 194.244 1292.18 151.071 1238.93 151.071h-75z" fill="#222"/><path d="M294.643 71.4287C299.574 71.4287 303.571 75.4262 303.571 80.3573V214.643c0 49.311-39.974 89.286-89.285 89.286H80.357C75.4259 303.929 71.4285 299.931 71.4285 295V232.5c0-19.724 15.9898-35.714 35.7145-35.714h53.571c19.725.0 35.714-15.99 35.714-35.714V107.143c0-19.7245 15.99-35.7143 35.715-35.7143h62.5z" fill="#e54545"/><path d="M216.786 327.857H196.428V419.643C196.428 424.574 200.426 428.572 205.357 428.572h62.5c19.724.0 35.714-15.99 35.714-35.715V338.929c0-19.725 15.99-35.715 35.715-35.715h53.571c19.725.0 35.714-15.989 35.714-35.714V205C428.571 200.069 424.574 196.072 419.643 196.072H327.5v21.071c0 61.146-49.569 110.714-110.714 110.714z" fill="#e54545"/></svg></span><span class="text-uppercase font-weight-bold"></span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><i class="fas fa-book"></i><span class=active>文档</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=https://github.com/kubediag/kubediag target=_blank><i class="fab fa-github"></i><span>GitHub</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><script>$(function(){$("#td-section-nav a").removeClass("active"),$("#td-section-nav #m-docsreferencescomponent-tool").addClass("active"),$("#td-section-nav #m-docsreferencescomponent-tool-li span").addClass("td-sidebar-nav-active-item"),$("#td-section-nav #m-docsreferencescomponent-tool").parents("li").addClass("active-path"),$("#td-section-nav li.active-path").addClass("show"),$("#td-section-nav li.active-path").children("input").prop('checked',!0),$("#td-section-nav #m-docsreferencescomponent-tool-li").siblings("li").addClass("show"),$("#td-section-nav #m-docsreferencescomponent-tool-li").children("ul").children("li").addClass("show"),$("#td-sidebar-menu").toggleClass("d-none")})</script><div id=td-sidebar-menu class="td-sidebar__inner d-none"><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; 站内搜索…" aria-label=站内搜索… autocomplete=off>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs-li><a href=/docs/ title="欢迎使用 KubeDiag" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>文档</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsquick-start-li><input type=checkbox id=m-docsquick-start-check>
<label for=m-docsquick-start-check><a href=/docs/quick-start/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsquick-start><span>快速开始</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-startinstallation-li><input type=checkbox id=m-docsquick-startinstallation-check>
<label for=m-docsquick-startinstallation-check><a href=/docs/quick-start/installation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-startinstallation><span>安装</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-startregister-an-operation-li><input type=checkbox id=m-docsquick-startregister-an-operation-check>
<label for=m-docsquick-startregister-an-operation-check><a href=/docs/quick-start/register-an-operation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-startregister-an-operation><span>注册运维操作</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-startcreate-an-operation-pipeline-li><input type=checkbox id=m-docsquick-startcreate-an-operation-pipeline-check>
<label for=m-docsquick-startcreate-an-operation-pipeline-check><a href=/docs/quick-start/create-an-operation-pipeline/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-startcreate-an-operation-pipeline><span>创建运维流水线</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-startrun-a-diagnosis-li><input type=checkbox id=m-docsquick-startrun-a-diagnosis-check>
<label for=m-docsquick-startrun-a-diagnosis-check><a href=/docs/quick-start/run-a-diagnosis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-startrun-a-diagnosis><span>运行一次诊断</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsquick-startwhat-next-li><input type=checkbox id=m-docsquick-startwhat-next-check>
<label for=m-docsquick-startwhat-next-check><a href=/docs/quick-start/what-next/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsquick-startwhat-next><span>下一步</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsconcepts-li><input type=checkbox id=m-docsconcepts-check>
<label for=m-docsconcepts-check><a href=/docs/concepts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsconcepts><span>概念</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsconceptsarchitecture-li><input type=checkbox id=m-docsconceptsarchitecture-check>
<label for=m-docsconceptsarchitecture-check><a href=/docs/concepts/architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsconceptsarchitecture><span>架构</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docstutorials-li><input type=checkbox id=m-docstutorials-check>
<label for=m-docstutorials-check><a href=/docs/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docstutorials><span>教程</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialstrigger-diagnoses-by-prometheus-alerts-li><input type=checkbox id=m-docstutorialstrigger-diagnoses-by-prometheus-alerts-check>
<label for=m-docstutorialstrigger-diagnoses-by-prometheus-alerts-check><a href=/docs/tutorials/trigger-diagnoses-by-prometheus-alerts/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialstrigger-diagnoses-by-prometheus-alerts><span>通过 Prometheus 报警触发诊断</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialstrigger-diagnoses-by-kafka-message-li><input type=checkbox id=m-docstutorialstrigger-diagnoses-by-kafka-message-check>
<label for=m-docstutorialstrigger-diagnoses-by-kafka-message-check><a href=/docs/tutorials/trigger-diagnoses-by-kafka-message/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialstrigger-diagnoses-by-kafka-message><span>通过 Kafka 消息触发诊断</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialshow-to-use-go-profiler-in-your-application-li><input type=checkbox id=m-docstutorialshow-to-use-go-profiler-in-your-application-check>
<label for=m-docstutorialshow-to-use-go-profiler-in-your-application-check><a href=/docs/tutorials/how-to-use-go-profiler-in-your-application/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialshow-to-use-go-profiler-in-your-application><span>剖析 Go 应用的性能</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstutorialshow-to-profiler-apiserver-li><input type=checkbox id=m-docstutorialshow-to-profiler-apiserver-check>
<label for=m-docstutorialshow-to-profiler-apiserver-check><a href=/docs/tutorials/how-to-profiler-apiserver/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docstutorialshow-to-profiler-apiserver><span>如何使用 Go Profiler 剖析 APIServer</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsreferences-li><input type=checkbox id=m-docsreferences-check>
<label for=m-docsreferences-check><a href=/docs/references/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docsreferences><span>参考</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsreferencescomponent-tool-li><input type=checkbox id=m-docsreferencescomponent-tool-check>
<label for=m-docsreferencescomponent-tool-check><a href=/docs/references/component-tool/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsreferencescomponent-tool><span>命令行工具</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevelop-with-kube-diagnoserdevelop-an-operation-processor-li><input type=checkbox id=m-docsdevelop-with-kube-diagnoserdevelop-an-operation-processor-check>
<label for=m-docsdevelop-with-kube-diagnoserdevelop-an-operation-processor-check><a href=/docs/develop-with-kube-diagnoser/develop-an-operation-processor/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelop-with-kube-diagnoserdevelop-an-operation-processor><span></span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdevelop-with-kube-diagnoserorchestrate-operations-to-a-pipeline-li><input type=checkbox id=m-docsdevelop-with-kube-diagnoserorchestrate-operations-to-a-pipeline-check>
<label for=m-docsdevelop-with-kube-diagnoserorchestrate-operations-to-a-pipeline-check><a href=/docs/develop-with-kube-diagnoser/orchestrate-operations-to-a-pipeline/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docsdevelop-with-kube-diagnoserorchestrate-operations-to-a-pipeline><span></span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/kubediag/website/edit/master/content/zh/docs/references/component-tool.md target=_blank><i class="fa fa-edit fa-fw"></i> 编辑此页</a>
<a href="https://github.com/kubediag/website/new/master/content/zh/docs/references/component-tool.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> 添加子页面</a>
<a href="https://github.com/kubediag/website/issues/new?title=%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%b7%a5%e5%85%b7" target=_blank><i class="fab fa-github fa-fw"></i> 提交文档问题</a>
<a href=https://github.com/kubediag/kubediag/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> 提交项目问题</a></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://kubediag.org/docs/>文档</a></li><li class=breadcrumb-item><a href=https://kubediag.org/docs/references/>参考</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://kubediag.org/docs/references/component-tool/>命令行工具</a></li></ol></nav><div class=td-content><h1>命令行工具</h1><div class=lead>命令行工具的参数配置详情。</div><header class=article-meta></header><p>命令行工具 <code>kubediag</code> 可以用于启动 Master 和 Agent 组件。Master 在整个框架中负责控制诊断运维流水线的生成以及诊断的触发。Agent 负责诊断的实际执行。</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>kubediag <span style=color:#ce5c00;font-weight:700>[</span>flags<span style=color:#ce5c00;font-weight:700>]</span>
</code></pre></div><h2 id=参数>参数</h2><table><thead><tr><th>参数</th><th>类型</th><th>描述</th><th>默认值</th></tr></thead><tbody><tr><td>&ndash;mode</td><td>string</td><td>指定作为 Master 或者 Agent 运行。</td><td>agent</td></tr><tr><td>&ndash;bind-address</td><td>string</td><td>监听的地址。</td><td>0.0.0.0</td></tr><tr><td>&ndash;port</td><td>int</td><td>监听的端口。</td><td>8090</td></tr><tr><td>&ndash;node-name</td><td>string</td><td>节点名称。</td><td></td></tr><tr><td>&ndash;metrics-port</td><td>int</td><td>监控指标的暴露端口。</td><td>10357</td></tr><tr><td>&ndash;enable-leader-election</td><td>bool</td><td>为 Master 开启选主。</td><td>false</td></tr><tr><td>&ndash;docker-endpoint</td><td>string</td><td>Docker 的监听地址。</td><td>unix:///var/run/docker.sock</td></tr><tr><td>&ndash;webhook-port</td><td>int</td><td>Webhook 服务器的监听地址。</td><td>9443</td></tr><tr><td>&ndash;host</td><td>string</td><td>Webhook 服务器的 Host。</td><td></td></tr><tr><td>&ndash;cert-dir</td><td>string</td><td>包含服务端密钥和证书的文件地址。</td><td></td></tr><tr><td>&ndash;repeat-interval</td><td>duration</td><td>Alertmanager 发送通知成功后第二次发送相同通知的间隔时间。</td><td>6h</td></tr><tr><td>&ndash;kafka-brokers</td><td>strings</td><td>需要连接 Kafka 集群的 Broker 地址列表。</td><td></td></tr><tr><td>&ndash;kafka-topic</td><td>string</td><td>获取消息的 Topic。</td><td></td></tr><tr><td>&ndash;diagnosis-ttl</td><td>duration</td><td>已完成 Diagnosis 的最大保留时间。</td><td>240h</td></tr><tr><td>&ndash;minimum-diagnosis-ttl-duration</td><td>duration</td><td>已完成 Diagnosis 的最小保留时间。</td><td>30m</td></tr><tr><td>&ndash;maximum-diagnoses-per-node</td><td>int32</td><td>每台节点上已完成 Diagnosis 的最大保留个数。</td><td>20</td></tr><tr><td>&ndash;feature-gates</td><td>mapStringBool</td><td>表示特性关闭或打开的键值对列表。</td><td>Alertmanager=true,ContainerCollector=true,ContainerdGoroutineCollector=true,CorefileProfiler=false,DockerInfoCollector=true,DockerdGoroutineCollector=true,Eventer=false,GoProfiler=true,KafkaConsumer=true,MountInfoCollector=true,NodeCordon=true,PodCollector=true,ProcessCollector=true,SubpathRemountDiagnoser=true,SystemdCollector=true</td></tr><tr><td>&ndash;data-root</td><td>string</td><td>存储 KubeDiag 数据的根目录。</td><td>/var/lib/kubediag</td></tr></tbody></table><div class="text-muted mt-5 pt-3 border-top">最后修改
July 7, 2021
: <a href=https://github.com/kubediag/website/commit/f2fe7c7edb75f6ff3203559d01940ea6ab2b3ec5>First commit (f2fe7c7)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/kubediag/kubediag/issues aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The KubeDiag Authors All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank rel=noopener>隐私政策</a></small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js integrity=sha384-uQikAXnCAqsMb3ygtdqBYvcwvHUkzGIpjdGyy9owhURXHUxLC5LgTcSxJQH/RzjK crossorigin=anonymous></script><script src=/js/deflate.js></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.2/dist/katex.min.css integrity=sha384-Cqd8ihRLum0CCg8rz0hYKPoLZ3uw+gES2rXQXycqnL5pgVQIflxAUDS7ZSjITLb5 crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.2/dist/katex.min.js integrity=sha384-1Or6BdeNQb0ezrmtGeqQHFpppNd7a/gw29xeiSikBbsb44xu3uAo8c7FwbF5jhbd crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.2/dist/contrib/mhchem.min.js integrity=sha384-LIgAiYlGSAdpNC9+YDjDPF6JeS/RRIumtNo0CmyQERZ/+g0h9MbuYQwf/5pQ4Y4M crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.2/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous onload=renderMathInElement(document.body,null)></script><script src=/js/main.min.2dc9f85cfc6e5a3b89cc4e0d4c58ee746745790437071c65df0c3285def814d9.js integrity="sha256-Lcn4XPxuWjuJzE4NTFjudGdFeQQ3Bxxl3wwyhd74FNk=" crossorigin=anonymous></script></body></html>